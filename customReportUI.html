<script>
	setTimeout(function() {
		getCurrentConfigs();
		getPurchasingOrganizations();
		validateConfig();
		jQuery('select').change(function() {
			validateConfig();
		});
		jQuery('input').bind('input', function() {
			validateConfig();
		});
	}, 500);

	function handleInputs() {
		var reportName = jQuery('#selectReportName').val();
		var frequency = jQuery('#selectFrequency').val();
		jQuery('#txtScheduleHour').parents().closest('.inputContainer').show();
		jQuery('#selectScheduleDayOfWeek').val('').trigger('change');
		jQuery('#selectScheduleDayOfWeek').parents().closest('.inputContainer').hide();
		jQuery('#txtScheduleDay').val('').trigger('input');
		jQuery('#txtScheduleDay').parents().closest('.inputContainer').hide();
		jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
		jQuery('#selectPurchasingOrganization').parents().closest('.inputContainer').show();
		jQuery('#selectDateRange option[value="1"]').hide(); // day
		jQuery('#selectDateRange option[value="2"]').hide(); // week
		jQuery('#selectDateRange option[value="3"]').hide(); // month
		jQuery('#selectDateRange option[value="4"]').hide(); // quarter
		jQuery('#selectDateRange option[value="5"]').hide(); // year
		jQuery('#selectDateRange').val('').trigger('change');
		jQuery('#divReceivableExternalIdContainer').hide();
		jQuery('#divItemContainer').hide();
		switch (frequency) {
			case '0': { // now
				jQuery('#txtScheduleHour').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').parents().closest('.inputContainer').show();
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				break;
			}
			case '1': { // daily
				jQuery('#selectDateRange').parents().closest('.inputContainer').show();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#txtScheduleHour').parents().closest('.inputContainer').show();
				// daterange options -- show all, ytd, and the corresponding range for frequency
				jQuery('#selectDateRange option[value="1"]').show(); // day
				break;
			}
			case '2': { // weekly
				jQuery('#selectDateRange').parents().closest('.inputContainer').show();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#txtScheduleHour').parents().closest('.inputContainer').show();
				jQuery('#selectDateRange option[value="2"]').show(); // week
				jQuery('#selectScheduleDayOfWeek').parents().closest('.inputContainer').show();
				break;
			}
			case '3': { // monthly
				jQuery('#selectDateRange').parents().closest('.inputContainer').show();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#txtScheduleHour').parents().closest('.inputContainer').show();
				jQuery('#selectDateRange option[value="3"]').show(); // month
				jQuery('#txtScheduleDay').parents().closest('.inputContainer').show();
				break;
			}
			case '4': { // quarterly
				jQuery('#selectDateRange').parents().closest('.inputContainer').show();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#txtScheduleHour').parents().closest('.inputContainer').show();
				jQuery('#selectDateRange option[value="4"]').show(); // quarter
				jQuery('#txtScheduleDay').parents().closest('.inputContainer').show();
				break;
			}
			case '5': { // annually
				jQuery('#selectDateRange').parents().closest('.inputContainer').show();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#txtScheduleHour').parents().closest('.inputContainer').show();
				jQuery('#selectDateRange option[value="5"]').show(); // year
				jQuery('#txtScheduleDay').parents().closest('.inputContainer').show();
				break;
			}
		}


		switch (reportName) {
			case '0': { // InventoryUsageByOrderAndProductReport

				break;
			}
			case '1': { // NonActiveInventoryReport
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#selectPurchasingOrganization').val('').trigger('');
				jQuery('#selectPurchasingOrganization').parents().closest('.inputContainer').hide();
				break;
			}
			case '2': { // ReceivingAuditTrailReport

				break;
			}
			case '3': { // WarehouseActivityReport

				break;
			}
			case '4': { // InventoryOnHandReport
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();				
				jQuery('#selectPurchasingOrganization').val('').trigger('');
				jQuery('#selectPurchasingOrganization').parents().closest('.inputContainer').hide();
				break;
			}
			case '5': { // InventoryValueReport
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();				
				jQuery('#selectPurchasingOrganization').val('').trigger('');
				jQuery('#selectPurchasingOrganization').parents().closest('.inputContainer').hide();
				break;
			}
			case '6': { // OrderLineActivityReport
				break;
			}
			case '7': { // BackOrderReport
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				break;
			}
			case '12': { // AllocationReport
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				break;
			}

			case '17': { // AllocationExtendedReport
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#divUserContainer').hide();
				jQuery('#divItemContainer').hide();
				jQuery('#txtItem').val('').trigger('input').trigger('change');
				jQuery('#txtUser').val('').trigger('input').trigger('change');
				break;
			}		

			case '18': { // AllocationExtendedItemReport
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#divItemContainer').show();
				break;
			}	

			case '19': { // AllocationExtendedUserReport
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#divUserContainer').show();
				break;
			}	

			case '20': { // AllocationInventoryReport
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#divUserContainer').hide();
				jQuery('#divItemContainer').hide();
				jQuery('#txtItem').val('').trigger('input').trigger('change');
				jQuery('#txtUser').val('').trigger('input').trigger('change');
				break;
			}	

			case '21': {
				jQuery('#selectDateRange').val('').trigger('change');
				jQuery('#selectDateRange').parents().closest('.inputContainer').hide();
				jQuery('#txtStartDate').val('').trigger('input');
				jQuery('#txtEndDate').val('').trigger('input');
				jQuery('#txtStartDate').parents().closest('.inputContainer').hide();
				jQuery('#selectPurchasingOrganization').val('').trigger('');
				jQuery('#selectPurchasingOrganization').parents().closest('.inputContainer').hide();				

				jQuery('#divReceivableExternalIdContainer').show();
				break;
			}					
		}

	}


	function saveConfig() {
		console.log('save the config');

		// do deletes thru here, just pass isactive = false;

		var configName = jQuery('#txtConfigName').val();
		var userName = jQuery('#txtUserName').val();
		var userId = jQuery('#txtUserId').val();
		var moId = jQuery('#txtMoId').val();
		var configId = jQuery('#txtConfigId').val();
		var reportName = jQuery('#selectReportName').val(); // int
		var emailList = jQuery('#txtEmailList').val();
		var IsActive = true;
		var startDate = jQuery('#txtStartDate').val();
		var endDate = jQuery('#txtEndDate').val();

		
		var scheduleHour = jQuery('#txtScheduleHour').val();
		var dayNumber = jQuery('#txtScheduleDay').val();
		var weekDay = jQuery('#selectScheduleDayOfWeek').val();
		var scheduleFrequency = jQuery('#selectFrequency').val(); //int
		var reportDateRange = jQuery('#selectDateRange').val(); // int

		var orderForgeObjects = [];
		if (jQuery('#divPurchasingOrganizations div').length > 0) {
			// mulitiple pos
			console.log('multiple pos');

		} else if (jQuery('#selectPurchasingOrganization').val() !== '') {
			console.log('po selected in ddl');
			var purchasingOrganizationObject = {
				'OrderForgeObjectId': jQuery('#selectPurchasingOrganization').val(),
				'OrderForgeObjectName': jQuery('#selectPurchasingOrganization option:selected').text(),
				'OrderForgeType': 0 // po
			};
			orderForgeObjects.push(purchasingOrganizationObject);
		} else {
			console.log('no po');
		}
		// cat
		if (jQuery('#divCategories div').length > 0) {
			// multiple cats
			console.log('multiple cats');
		} else if (jQuery('#selectCategory').val() !== '') {
			console.log('cat selected in ddl');
			var categoryObject = {
				'OrderForgeObjectId': jQuery('#selectCategory').val(),
				'OrderForgeObjectName': jQuery('#selectCategory option:selected').text(),
				'OrderForgeType': 1 // cat
			};
			orderForgeObjects.push(categoryObject);
		} else {
			console.log('no cat');
		}


		if (jQuery('#txtItem').val() !== '') {
			var itemObject = {
				'OrderForgeObjectId': jQuery('#txtItem').val(),
				'OrderForgeObjectName': 'Item',
				'OrderForgeType': 5 // product / item
			};
			orderForgeObjects.push(itemObject);
		}

		if (jQuery('#txtUser').val() !== '') {
			var itemObject = {
				'OrderForgeObjectId': jQuery('#txtUser').val(),
				'OrderForgeObjectName': 'Item',
				'OrderForgeType': 6 // user
			};
			orderForgeObjects.push(itemObject);
		}

		if (jQuery('#txtReceivableExternalId').val() !== '')
		{
			var receivableExternalIdObject = {
				'OrderForgeObjectId': jQuery('#txtReceivableExternalId').val(),
				'OrderForgeObjectName': 'Receivable External Id',
				'OrderForgeType': 4 // Receivable External Id
			};
			orderForgeObjects.push(receivableExternalIdObject);
		}
		

		var saveConfigObject = {
			'Id': configId,
			'ConfigName': configName,
			'UserName': userName,
			'UserId': userId,
			'MoId': moId,
			'ReportName': reportName,
			'EmailList': emailList,
			'IsActive': IsActive,
			'OrderForgeObjects': orderForgeObjects,
			'ScheduleHour': scheduleHour,
			'ScheduleFrequency': scheduleFrequency,
			'ReportDateRange': reportDateRange,
			'ReportStartDate': startDate,
			'ReportEndDate': endDate,
			'ScheduleDay': dayNumber,
			'ScheduleWeekDay': weekDay
		};

		console.log(saveConfigObject);

		var apiUrl = 'https://localhost:44385/api/reportconfig/saveconfig';
		apiUrl = 'https://services.dcidesigns.net/CustomReporting/api/reportconfig/saveconfig';

		$.ajax({
	        type: "POST",
	        url: apiUrl,
	        contentType: 'application/json',
	        dataType: 'json',
	        async: true,
	        data: JSON.stringify(saveConfigObject),
	        success: function (result) {
	            console.log(JSON.parse(result));
	            var cleanResult = JSON.parse(result);
	            if (cleanResult.Message !== null && cleanResult.Message.indexOf('Error') === -1) {
	            	// good
	            	jQuery('.resultForm').show();
	            	jQuery('#divResult').text('Success. Config Saved');
	            	jQuery('.entryForm').hide();
	            	jQuery('.configOptions').hide();
	            } else {
	            	// not good
	            	jQuery('.resultForm').show();
	            	jQuery('#divResult').text('Error: ' + cleanResult.Message);
	            	jQuery('.entryForm').hide();
	            	jQuery('.configOptions').hide();                	
	            }
	        },
	        error: function (result) {
	            console.log('error: ');
	            console.log(result);
	        }
	    });		
	}

	function reportChange() {
		console.log('report changed');
		handleInputs();
	}

	function frequencyChange() {
		console.log('frequency changed');
		handleInputs();
	}

	function dateRangeChange() {
		console.log('date range changed');
	}

	function purchasingOrganizationChange() {
		console.log('purchasing organization changed');
		getCategories();
	}

	function categoryChange() {
		console.log('purchasing organization changed');
	}	

	function validateConfig() {
		console.log('validating the config');
		var valid = true;
		// all types of reports shoudl have these
		if (jQuery('#txtConfigName').val() === '') {
			valid = false;
		}
		if (jQuery('#selectReportName').val() === '') {
			valid = false;
		}
		if (jQuery('#txtEmailList').val() === '') {
			valid = false;
		}
		if (jQuery('#selectFrequency').val() === '') {
			valid = false;
		}
		// report 0
		if (jQuery('#selectReportName').val() === '0') {
			// now frequency
			if (jQuery('#selectFrequency').val() === '0') {
				// ensure there is inputted dates
				if (jQuery('#txtStartDate').val() === ''
					|| jQuery('#txtEndDate').val() === '') {
					valid = false;
				}
			} else {
				if (jQuery('#selectFrequency').val() === '2') {
					if (jQuery('#selectScheduleDayOfWeek').val() === '') {
						valid = false;
					}
				} else if (jQuery('#selectFrequency').val() !== '1') {
					if (jQuery('#txtScheduleDay').val() === '') {
						valid = false;
					}
				}


				// not now, ensure selected date range
				if (jQuery('#selectDateRange').val() === '') {
					valid = false;
				}
				// not now, ensure an hour
				if (jQuery('#txtScheduleHour').val() === '') {
					valid = false;
				}
			}
			// ensure they selected a po
			if (jQuery('#selectPurchasingOrganization').val() === '') {
				valid = false;
			}
		// report 1
		} else if (jQuery('#selectReportName').val() === '1'
			       || jQuery('#selectReportName').val() === '7') {
			// probably dont care about dates 
		} else if (jQuery('#selectReportName').val() === '2'
				   || jQuery('#selectReportName').val() === '3') {
			// now frequency
			if (jQuery('#selectFrequency').val() === '0') {
				// ensure there is inputted dates
				if (jQuery('#txtStartDate').val() === ''
					|| jQuery('#txtEndDate').val() === '') {
					valid = false;
				}
			} else {
				if (jQuery('#selectFrequency').val() === '2') {
					if (jQuery('#selectScheduleDayOfWeek').val() === '') {
						valid = false;
					}
				} else if (jQuery('#selectFrequency').val() !== '1') {
					if (jQuery('#txtScheduleDay').val() === '') {
						valid = false;
					}
				}


				// not now, ensure selected date range
				if (jQuery('#selectDateRange').val() === '') {
					valid = false;
				}
				// not now, ensure an hour
				if (jQuery('#txtScheduleHour').val() === '') {
					valid = false;
				}
			}
		}

		if (jQuery('#selectReportName').val() === '18') {
			if (jQuery('#txtItem').val() === '') {
				valid = false;
			}
		} else if (jQuery('#selectReportName').val() === '19') {
			if (jQuery('#txtUser').val() === '') {
				valid = false;
			}
		} else if (jQuery('#selectReportName').val() === '21') {
			if (jQuery('#txtReceivableExternalId').val() === '') {
				valid = false;
			}
		}		
		if (valid) {
			console.log('valid');
			jQuery('#btnSave').show();

		} else {
			console.log('not valid');
			jQuery('#btnSave').hide();
		}
	}

	function configChange() {
		console.log('config changed');
		if (jQuery('#selectConfigOption').val() === 'Add New') {
			// new
			// show entry form
			jQuery('#divCustomReportsToolContainer .entryForm').show();
			var user = jQuery('#pageoptions strong').text();
			// set user
			jQuery('#txtUserName').val(user).trigger('input');
		} else if (jQuery('#selectConfigOption').val() === '') {
			// 
			// show entry form
			jQuery('#divCustomReportsToolContainer .entryForm').hide();
		} else {
			// show form
			jQuery('#divCustomReportsToolContainer .entryForm').show();
			// populate form
			getConfig();
			var user = jQuery('#pageoptions strong').text();
			// set user -- override the that was already there?  
			jQuery('#txtUserName').val(user).trigger('input');

		}
	}

	function addPurchasingOrganization() {
		console.log('add purchasing organization clicked');
	}

	function addCategory() {
		console.log('add category clicked');
	}

	function getCurrentConfigs() {
		console.log('get current configs');
		var apiUrl = 'https://localhost:44385/api/reportconfig/getconfigs';
		apiUrl = 'https://services.dcidesigns.net/CustomReporting/api/reportconfig/getconfigs';

	    var user = jQuery('#pageoptions strong').text();
	    if (user) {

	        $.getJSON(apiUrl + "?user=" + user)
	            .success(function (result) {
	                console.log('getCurrentConfigs - success');

	                var results = JSON.parse(result);
	                console.log(results);

	                $.each(results, function (i, p) {
	                    var optionContent = '<option value="' + p.Id + '">' + p.ConfigName + '</option>';
	                    $('#selectConfigOption').append(optionContent);
	                });
	            })
	            .error(function (error) {
	                console.log(' getCurrentConfigs - error');
	                console.log(error);
	            });
	    } else {
	        console.log('no user');
	    }
	}

	function getConfig() {
		console.log('get config');
		var apiUrl = 'https://localhost:44385/api/reportconfig/getconfig';
		apiUrl = 'https://services.dcidesigns.net/CustomReporting/api/reportconfig/getconfig';
	    var configId = jQuery('#selectConfigOption').val();
	    if (configId) {
	        $.getJSON(apiUrl + "?id=" + configId)
	            .success(function (result) {
	                console.log('getConfig - success');
	                var cleanResult = JSON.parse(result);
	                console.log(cleanResult);
	                // populate entry form
	                jQuery('#txtConfigName').val(cleanResult.ConfigName).trigger('input');
	                jQuery('#txtUserName').val(cleanResult.UserName).trigger('input');
	                jQuery('#txtConfigId').val(cleanResult.Id).trigger('input');
	                jQuery('#selectReportName').val(cleanResult.ReportName).trigger('change');
	                jQuery('#txtEmailList').val(cleanResult.EmailList).trigger('input');
	                jQuery('#txtScheduleHour').val(cleanResult.ScheduleHour).trigger('input');
	                jQuery('#selectFrequency').val(cleanResult.ScheduleFrequency).trigger('change');
	                jQuery('#selectDateRange').val(cleanResult.ReportDateRange).trigger('change');
	                jQuery('#txtUserId').val(cleanResult.UserId).trigger('input');
	                jQuery('#txtMoId').val(cleanResult.MoId).trigger('input');
	                jQuery('#txtScheduleDay').val(cleanResult.ScheduleDay).trigger('input');
	                jQuery('#selectScheduleDayOfWeek').val(cleanResult.ScheduleWeekDay).trigger('change');
	                var poCount = 0;
	                var catCount = 0;
	                jQuery.each(cleanResult.OrderForgeObjects, function(ofObject) {
	                	switch (ofObject.OrderForgeType) {
	                		case 0:
	                		{
	                			// select in ddl
	                			jQuery('#selectPurchasingOrganization').val(ofObject.OrderForgeObjectId).trigger('change');
	                			// add to div list
	                			addPO(ofObject.OrderForgeObjectName, ofObject.OrderForgeObjectId);
	            				poCount++;
	                			break;
	                		}
	                		case 1:
	                		{
	                			break;
	                		}
	                		case 2:
	                		{
	                			// select in ddl
	                			jQuery('#selectPurchasingOrganization').val(ofObject.OrderForgeObjectId).trigger('change');
	                			// add to div list
	                			addPO(ofObject.OrderForgeObjectName, ofObject.OrderForgeObjectId);
	            				poCount++;
	                			break;
	                		}
	                		case 3:
	                		{
	                			// select in ddl
	                			jQuery('#selectPurchasingOrganization').val(ofObject.OrderForgeObjectId).trigger('change');
	                			// add to div list
	                			addPO(ofObject.OrderForgeObjectName, ofObject.OrderForgeObjectId);
	            				poCount++;
	                			break;
	                		}
	                	}
	                });

	                if (poCount < 2) {
	                	jQuery('#divPurchasingOrganizations div').remove();
	                } else {
	                }

	            })
	            .error(function (error) {
	                console.log(' getConfig - error');
	                console.log(error);
	            });
	    } else {
	        console.log('no configId');
	    }
	}	

	function getPurchasingOrganizations() {
		console.log('get purchasing organizations');
		var apiUrl = 'https://localhost:44385/api/reportconfig/getuserinfo';
		apiUrl = 'https://services.dcidesigns.net/CustomReporting/api/reportconfig/getuserinfo';
	    var user = jQuery('#pageoptions strong').text();
	    if (user) {
	        console.log('getting getUserInfo');
	        $.getJSON(apiUrl + "?user=" + user)
	            .success(function (result) {
	                console.log('GetUserInfo - success');

	                var userResults = JSON.parse(result);
	                console.log(userResults);
	                jQuery('#txtUserId').val(userResults.UserId).trigger('input');
	                jQuery('#txtMoId').val(userResults.ManagingOrganizationId).trigger('input');

	                $.each(userResults.PurchasingOrganizations, function (i, p) {
	                    var optionContent =
	                        '<option value="' + p.Id + '">' + p.Name + '</option>';
	                    $('#selectPurchasingOrganization').append(optionContent);
	                });
	            })
	            .error(function (error) {
	                console.log(' GetUserInfo - error');
	                console.log(error);
	            });
	    } else {
	        console.log('no user');
	    }
	}

	function getCategories() {
		console.log('get categories');
		var apiUrl = 'https://localhost:44385/api/reportconfig/getcategories';
		apiUrl = 'https://services.dcidesigns.net/CustomReporting/api/reportconfig/getcategories';
	    var poId = $('#selectPurchasingOrganization').val();
	    if (poId) {
	        $('#selectCategory option').remove();
	        $('#selectCategory').append('<option></option>');
	        $.getJSON(apiUrl + "?poId=" + poId)
	            .success(function (result) {
	                console.log('getCategories - success');

	                var results = JSON.parse(result);
	                console.log(results);

	                $.each(results, function (i, p) {
	                    var optionContent =
	                        '<option value="' + p.CategoryId + '">' + p.Name + '</option>';
	                    $('#selectCategory').append(optionContent);
	                });
	            })
	            .error(function (error) {
	                console.log(' getCategories - error');
	                console.log(error);
	            });
	    } else {
	        console.log('no poId');
	    }
	}

	function addPO(poName, poId) {
		var poContent = '<div class="poContent" data-poid="' + poId + "'>'" + poName + '</div>';
		jQuery('#divPurchasingOrganizations').append(poContent);
	}
</script>
<style type="text/css">#divCustomReportsToolContainer {
		padding-top: 15px;
	}
	#divCustomReportsToolContainer .configOptions {
		padding-bottom: 35px;
	}
	#divCustomReportsToolContainer h3 {
		padding-bottom: 25px;
	}	
	#divCustomReportsToolContainer input {
		width: 250px;
	}
	#divCustomReportsToolContainer .inputContainer {
		padding-top: 10px;
	}
	.readOnly {
		display: none;
	}
</style>
<div id="divCustomReportsToolContainer">
<div>
<h3>Custom Reports Tool</h3>
</div>

<div class="configOptions"><label>Select config option</label> <select id="selectConfigOption" onchange="configChange()"><option value=""></option><option value="Add New">Add New</option> </select></div>

<div class="entryForm" style="display: none;"><b>Report Config</b>

<div class="inputContainer"><label>Config Name</label> <input id="txtConfigName" type="text" /></div>

<div class="inputContainer"><label>Report Name</label> 
	<select id="selectReportName" onchange="reportChange()">
		<option></option>
		<option value="0">Inventory Usage By Order And Product Report</option>
		<option value="1">Non Active Inventory Report</option>
		<option value="2">Receiving Audit Trail Report</option>
		<option value="3">Warehouse Activity Report</option>
		<option value="4">Inventory On Hand Report</option>
		<option value="5">Inventory Value Report</option>
		<option value="6">Order Line Activity Report</option>
		<option value="7">Back Order Report</option>
		<option value="8">Usage Report</option>
		<option value="9">Summary Billing Line Item Report</option>
		<option value="10">Size Color Line Item Report</option>
		<option value="11">Summary Billing Line Item Report V2</option>
		<option value="12">Allocation Report</option>
		<option value="13">Invoice Summary Billing Line Item Report</option>
		<option value="14">Receivable Summary Billing Line Item Report</option>
		<option value="15">Active Order Report</option>
		<option value="16">Inventory Management Report</option>
		<option value="17">Allocation Extended Report</option>
		<option value="18">Allocation Extended Item Report</option>
		<option value="19">Allocation Extended User Report</option>
		<option value="20">Allocation Inventory Report</option>
		<option value="21">Receivable Summary Billing Line Item Report</option>
		<option value="22">Summary Line Item Report</option>
	</select></div>

<div class="inputContainer" id="divPurchasingOrganizationContainer"><label>Purchasing Organization</label> <select id="selectPurchasingOrganization" onchange="purchasingOrganizationChange()"><option></option> </select>

<div id="divMultiplePurchasingOrganizationOptions" style="display: none;">
<div id="divAddPurchasingOrganization"><button id="btnAddPurchasingOrganization" onclick="addPurchasingOrganization()">Add</button></div>

<div id="divPurchasingOrganizations">&nbsp;</div>
</div>
</div>

		<div class="inputContainer" id="divItemContainer" style="display: none;">
			<label>Enter Item (Product External ID):</label>
			<input type="text" id="txtItem" />		
		</div>

		<div class="inputContainer" id="divUserContainer" style="display: none;">
			<label>Enter Username:</label>
			<input type="text" id="txtUser" />		
		</div>	


<div class="inputContainer" id="divCategoryContainer" style="display: none;"><label>Category</label> <select id="selectCategory" onchange="categoryChange()"><option></option> </select>

<div id="divMultipleCategoryOptions" style="display: none;">
<div id="divAddCategory"><button id="btnAddCategory" onclick="addCategory()">Add</button></div>

<div id="divCategories">&nbsp;</div>
</div>
</div>

<div class="inputContainer" id="divOrderLineFulfillmentTypeContainer" style="display: none;"><label>Order Line Fulfillment Type (Making 0 selections will result in all Types)</label>

<div style="padding: 10px;"><label>Standard</label> <input id="cbStandard" type="checkbox" /> <label>On Demand</label> <input id="cbOnDemand" type="checkbox" /> <label>Release</label> <input id="cbRelease" type="checkbox" /> <label>Replenishment</label> <input id="cbReplenishment" type="checkbox" /></div>
</div>

<div class="inputContainer" id="divInvoiceTypeContainer" style="display: none;"><label>Invoice Type (Making 0 selections will result in all Types)</label>

<div style="padding: 10px;"><label>Standard</label> <input id="cbInvoiceTypeStandard" type="checkbox" /> <label>Summary</label> <input id="cbInvoiceTypeSummary" type="checkbox" /> <label>Credit Memo</label> <input id="cbInvoiceTypeCreditMemo" type="checkbox" /></div>
</div>

<div class="inputContainer" id="divReceivableExternalIdContainer" style="display: none;"><label>Receivable External Id</label> <input id="txtReceivableExternalId" type="text" /></div>

<div class="inputContainer"><label>Email List</label> <input id="txtEmailList" type="text" /></div>

<div class="inputContainer"><label>Schedule Hour</label> <input id="txtScheduleHour" type="number" /></div>

<div class="inputContainer"><label>Schedule Day Number</label> <input id="txtScheduleDay" type="number" /></div>

<div class="inputContainer"><label>Schedule Day of Week</label> <select id="selectScheduleDayOfWeek"><option></option><option value="0">Sunday</option><option value="1">Monday</option><option value="2">Tuesday</option><option value="3">Wednesday</option><option value="4">Thursday</option><option value="5">Friday</option><option value="6">Saturday</option> </select></div>

<div class="inputContainer"><label>Frequency</label> <select id="selectFrequency" onchange="frequencyChange()"><option></option><option value="0">Now</option><option value="1">Daily</option><option value="2">Weekly</option><option value="3">Monthly</option><option value="4">Quarterly</option><option value="5">Annually</option> </select></div>

<div class="inputContainer"><label>Date Range</label> <select id="selectDateRange" onchange="dateRangeChange()"><option></option><option value="0">All</option><option value="1">Day</option><option value="2">Week</option><option value="3">Month</option><option value="4">Quarter</option><option value="5">Year</option><option value="6">YTD</option> </select></div>

<div class="inputContainer" style="display: none;"><label>Start Date</label> <input id="txtStartDate" type="date" /><br />
<label>End Date</label> <input id="txtEndDate" type="date" /></div>

<div class="inputContainer readOnly"><label>User</label> <input id="txtUserName" type="text" /> <input id="txtUserId" type="text" /> <input id="txtMoId" type="text" /></div>

<div class="inputContainer readOnly"><label>Config Id</label> <input id="txtConfigId" type="text" /></div>

<div class="inputContainer"><button id="btnSave" onclick="saveConfig()" value="Save">Save</button></div>
</div>

<div class="resultForm" style="display: none;">
<div id="divResult">&nbsp;</div>

<div>Click <a href="" onclick="location.reload();">here</a> to continue.</div>
</div>
</div>
